<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

-   [Methods][1]
    -   [createOlStyleFunction][2]
        -   [Parameters][3]
        -   [Examples][4]
    -   [Reader][5]
        -   [Parameters][6]
    -   [getLayerNames][7]
        -   [Parameters][8]
    -   [getLayer][9]
        -   [Parameters][10]
    -   [getStyleNames][11]
        -   [Parameters][12]
    -   [getStyle][13]
        -   [Parameters][14]
    -   [getRules][15]
        -   [Parameters][16]
        -   [Examples][17]
    -   [getGeometryStyles][18]
        -   [Parameters][19]
    -   [OlStyler][20]
        -   [Parameters][21]
        -   [Examples][22]
-   [Types][23]
    -   [StyledLayerDescriptor][24]
        -   [Properties][25]
    -   [Layer][26]
        -   [Properties][27]
    -   [FeatureTypeStyle][28]
        -   [Properties][29]
    -   [Rule][30]
        -   [Properties][31]
    -   [Filter][32]
        -   [Properties][33]
    -   [LineSymbolizer][34]
        -   [Properties][35]
    -   [PolygonSymbolizer][36]
        -   [Properties][37]
    -   [PointSymbolizer][38]
        -   [Properties][39]
    -   [GeometryStyles][40]
        -   [Properties][41]
-   [createCachedImageStyle][42]
    -   [Parameters][43]
-   [processExternalGraphicSymbolizers][44]
    -   [Parameters][45]
-   [updateExternalGraphicRules][46]
    -   [Parameters][47]

## Methods

All methods of this package. If you include the build directly they are props
of the global var SLDReader.


### createOlStyleFunction

Create an OpenLayers style function from a FeatureTypeStyle object extracted from an SLD document.

**Important!** When using externalGraphics for point styling, make sure to call .changed() on the layer
inside options.imageLoadedCallback to immediately see the loaded image. If you do not do this, the
image icon will only become visible the next time OpenLayers draws the layer (after pan or zoom).

#### Parameters

-   `featureTypeStyle` **[FeatureTypeStyle][48]** Feature Type Style object.
-   `options` **[object][49]** Options (optional, default `{}`)
    -   `options.convertResolution` **[function][50]** An optional function to convert the resolution in map units/pixel to resolution in meters/pixel.
        When not given, the map resolution is used as-is.
    -   `options.imageLoadedCallback` **[function][50]** Optional callback that will be called with the url of an externalGraphic when
        an image has been loaded (successfully or not). Call .changed() inside the callback on the layer to see the loaded image.

#### Examples

```javascript
myOlVectorLayer.setStyle(SLDReader.createOlStyleFunction(featureTypeStyle, {
  imageLoadedCallback: () => { myOlVectorLayer.changed(); }
}));
```

Returns **[Function][50]** A function that can be set as style function on an OpenLayers vector style layer.

### Reader

Creates a object from an sld xml string,

#### Parameters

-   `sld` **[string][51]** xml string

Returns **[StyledLayerDescriptor][52]** object representing sld style

### getLayerNames

get all layer names in sld

#### Parameters

-   `sld` **[StyledLayerDescriptor][52]** 

Returns **[Array][53]&lt;[string][51]>** registered layernames

### getLayer

Get layer definition from sld

#### Parameters

-   `sld` **[StyledLayerDescriptor][52]** [description]
-   `layername` **[string][51]?** optional layername

Returns **[Layer][54]** [description]

### getStyleNames

getStyleNames, notice name is not required for userstyle, you might get undefined

#### Parameters

-   `layer` **[Layer][54]** [description]

Returns **[Array][53]&lt;[string][51]>** [description]

### getStyle

get style from array layer.styles, if name is undefined it returns default style.
null is no style found

#### Parameters

-   `layer` **[Layer][54]** [description]
-   `name` **[string][51]?** of style

Returns **[object][49]** the style from layer.styles matching the name

### getRules

get rules for specific feature after applying filters

#### Parameters

-   `featureTypeStyle` **[FeatureTypeStyle][48]** 
-   `feature` **[object][49]** geojson
-   `resolution` **[number][55]** m/px
-   `options`   (optional, default `{}`)

#### Examples

```javascript
const style = getStyle(sldLayer, stylename);
getRules(style.featuretypestyles['0'], geojson, resolution);
```

Returns **[Array][53]&lt;[Rule][56]>** 

### getGeometryStyles

Get styling from rules per geometry type

#### Parameters

-   `rules` **[Array][53]&lt;[Rule][56]>** [description]

Returns **[GeometryStyles][57]** 

### OlStyler

Create openlayers style

#### Parameters

-   `GeometryStyles` **[GeometryStyles][57]** rulesconverter
-   `feature` **([object][49] | Feature)** [geojson][58]
     or [ol/Feature][59] Changed in 0.0.04 & 0.0.5!

#### Examples

```javascript
OlStyler(getGeometryStyles(rules), geojson.geometry.type);
```

Returns **any** ol.style.Style or array of it

## Types

Types are the javascript representation of the ogc sld structure


### StyledLayerDescriptor

a typedef for StyledLayerDescriptor [xsd][60]

#### Properties

-   `version` **[string][51]** sld version
-   `layers` **[Array][53]&lt;[Layer][54]>** info extracted from NamedLayer element

### Layer

a typedef for Layer, the actual style object for a single layer

#### Properties

-   `name` **[string][51]** layer name
-   `styles` **[Array][53]&lt;[Object][49]>** See explanation at [Geoserver docs][61]
    -   `styles[].default` **[Boolean][62]** 
    -   `styles[].name` **[String][51]?** 
    -   `styles[].featuretypestyles` **[Array][53]&lt;[FeatureTypeStyle][48]>** Geoserver will draw multiple,
        libraries as openlayers can only use one definition!

### FeatureTypeStyle

a typedef for FeatureTypeStyle: [xsd][63]

#### Properties

-   `rules` **[Array][53]&lt;[Rule][56]>** 

### Rule

a typedef for Rule to match a feature: [xsd][63]

#### Properties

-   `name` **[string][51]** rule name
-   `filter` **[Array][53]&lt;[Filter][64]>?** 
-   `elsefilter` **[boolean][62]?** 
-   `minscaledenominator` **integer?** 
-   `maxscaledenominator` **integer?** 
-   `polygonsymbolizer` **[PolygonSymbolizer][65]?** 
-   `linesymbolizer` **[LineSymbolizer][66]?** 
-   `pointsymbolizer` **[PointSymbolizer][67]?** 

### Filter

[filter operators][68], see also
[geoserver][69]

#### Properties

-   `type` **[string][51]** Can be 'comparison', 'and', 'or', 'not', or 'featureid'.
-   `fids` **[Array][53]&lt;[string][51]>?** An array of feature id's. Required for type='featureid'.
-   `operator` **[string][51]?** Required for type='comparison'. Can be one of
    'propertyisequalto',
    'propertyisnotequalto',
    'propertyislessthan',
    'propertyislessthanorequalto',
    'propertyisgreaterthan',
    'propertyisgreaterthanorequalto',
    'propertyislike',
    'propertyisbetween'
-   `predicates` **[Array][53]&lt;[Filter][64]>?** Required for type='and' or type='or'.
    An array of filter predicates that must all evaluate to true for 'and', or
    for which at least one must evaluate to true for 'or'.
-   `predicate` **[Filter][64]?** Required for type='not'. A single predicate to negate.
-   `propertyname` **[string][51]?** Required for type='comparison'.
-   `literal` **[string][51]?** A literal value to use in a comparison,
    required for type='comparison'.
-   `lowerboundary` **[string][51]?** Lower boundary, required for operator='propertyisbetween'.
-   `upperboundary` **[string][51]?** Upper boundary, required for operator='propertyisbetween'.
-   `wildcard` **[string][51]?** Required wildcard character for operator='propertyislike'.
-   `singlechar` **[string][51]?** Required single char match character,
    required for operator='propertyislike'.
-   `escapechar` **[string][51]?** Required escape character for operator='propertyislike'.

### LineSymbolizer

a typedef for [LineSymbolizer][70], see also
[geoserver docs][71]

#### Properties

-   `stroke` **[Object][49]** 
    -   `stroke.css` **[Array][53]&lt;[Object][49]>** one object per CssParameter with props name (camelcased) & value

### PolygonSymbolizer

a typedef for [PolygonSymbolizer][70], see also
[geoserver docs][72]

#### Properties

-   `fill` **[Object][49]** 
    -   `fill.css` **[array][53]** one object per CssParameter with props name (camelcased) & value
-   `stroke` **[Object][49]** 
    -   `stroke.css` **[Array][53]&lt;[Object][49]>** with camelcased name & value

### PointSymbolizer

a typedef for PointSymbolizer [xsd][70]
& [geoserver docs][73]

#### Properties

-   `graphic` **[Object][49]** 
    -   `graphic.externalgraphic` **[Object][49]** 
        -   `graphic.externalgraphic.onlineresource` **[string][51]** 
    -   `graphic.mark` **[Object][49]** 
        -   `graphic.mark.wellknownname` **[string][51]** 
        -   `graphic.mark.fill` **[Object][49]** 
        -   `graphic.mark.stroke` **[Object][49]** 
    -   `graphic.opacity` **[Number][55]** 
    -   `graphic.size` **[Number][55]** 
    -   `graphic.rotation` **[Number][55]** 

### GeometryStyles

contains for each geometry type the symbolizer from an array of rules

#### Properties

-   `polygon` **[Array][53]&lt;[PolygonSymbolizer][65]>** polygonsymbolizers
-   `line` **[Array][53]&lt;[LineSymbolizer][66]>** linesymbolizers
-   `point` **[Array][53]&lt;[PointSymbolizer][67]>** pointsymbolizers, same as graphic prop from PointSymbolizer

## createCachedImageStyle

Create an OL Icon style for an external graphic.
The Graphic must be already loaded and present in the global imageCache.

### Parameters

-   `imageUrl` **[string][51]** Url of the external graphic.
-   `size` **[number][55]** Requested size in pixels.

## processExternalGraphicSymbolizers

Start loading images used in rules that have a pointsymbolizer with an externalgraphic.
On image load start or load end, update \_\_loadingState metadata of the symbolizers for that image url.

### Parameters

-   `rules` **[Array][53]&lt;[object][49]>** Array of SLD rule objects that pass the filter for a single feature.
-   `featureTypeStyle` **[FeatureTypeStyle][48]** The feature type style object for a layer.
-   `imageLoadState` **[object][49]** Cache of image load state: imageUrl -> IMAGE_LOADING | IMAGE_LOADED | IMAGE_ERROR.
-   `imageLoadedCallback` **[Function][50]** Function to call when an image has loaded.

## updateExternalGraphicRules

Go through all rules with an external graphic matching the image url
and update the **loadingState metadata for the symbolizers with the new imageLoadState.
This action replaces symbolizers with new symbolizers if they get a new **loadingState.

### Parameters

-   `featureTypeStyle` **[object][49]** A feature type style object.
-   `imageUrl` **[string][51]** The image url.
-   `imageLoadState` **[string][51]** One of 'IMAGE_LOADING', 'IMAGE_LOADED', 'IMAGE_ERROR'.

[1]: #methods

[2]: #createolstylefunction

[3]: #parameters

[4]: #examples

[5]: #reader

[6]: #parameters-1

[7]: #getlayernames

[8]: #parameters-2

[9]: #getlayer

[10]: #parameters-3

[11]: #getstylenames

[12]: #parameters-4

[13]: #getstyle

[14]: #parameters-5

[15]: #getrules

[16]: #parameters-6

[17]: #examples-1

[18]: #getgeometrystyles

[19]: #parameters-7

[20]: #olstyler

[21]: #parameters-8

[22]: #examples-2

[23]: #types

[24]: #styledlayerdescriptor

[25]: #properties

[26]: #layer

[27]: #properties-1

[28]: #featuretypestyle

[29]: #properties-2

[30]: #rule

[31]: #properties-3

[32]: #filter

[33]: #properties-4

[34]: #linesymbolizer

[35]: #properties-5

[36]: #polygonsymbolizer

[37]: #properties-6

[38]: #pointsymbolizer

[39]: #properties-7

[40]: #geometrystyles

[41]: #properties-8

[42]: #createcachedimagestyle

[43]: #parameters-9

[44]: #processexternalgraphicsymbolizers

[45]: #parameters-10

[46]: #updateexternalgraphicrules

[47]: #parameters-11

[48]: #featuretypestyle

[49]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object

[50]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function

[51]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String

[52]: #styledlayerdescriptor

[53]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array

[54]: #layer

[55]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number

[56]: #rule

[57]: #geometrystyles

[58]: http://geojson.org

[59]: https://openlayers.org/en/latest/apidoc/module-ol_Feature-Feature.html

[60]: http://schemas.opengis.net/sld/1.1/StyledLayerDescriptor.xsd

[61]: http://docs.geoserver.org/stable/en/user/styling/sld/reference/styles.html

[62]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean

[63]: http://schemas.opengis.net/se/1.1.0/FeatureStyle.xsd

[64]: #filter

[65]: #polygonsymbolizer

[66]: #linesymbolizer

[67]: #pointsymbolizer

[68]: http://schemas.opengis.net/filter/1.1.0/filter.xsd

[69]: http://docs.geoserver.org/stable/en/user/styling/sld/reference/filters.html

[70]: http://schemas.opengis.net/se/1.1.0/Symbolizer.xsd

[71]: http://docs.geoserver.org/stable/en/user/styling/sld/reference/linesymbolizer.html#sld-reference-linesymbolizer

[72]: http://docs.geoserver.org/stable/en/user/styling/sld/reference/polygonsymbolizer.html

[73]: http://docs.geoserver.org/latest/en/user/styling/sld/reference/pointsymbolizer.html
