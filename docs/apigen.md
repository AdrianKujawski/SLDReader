<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

-   [Methods][1]
    -   [createOlStyleFunction][2]
        -   [Parameters][3]
        -   [Examples][4]
    -   [Reader][5]
        -   [Parameters][6]
    -   [getLayerNames][7]
        -   [Parameters][8]
    -   [getLayer][9]
        -   [Parameters][10]
    -   [getStyleNames][11]
        -   [Parameters][12]
    -   [getStyle][13]
        -   [Parameters][14]
    -   [getRules][15]
        -   [Parameters][16]
        -   [Examples][17]
    -   [getGeometryStyles][18]
        -   [Parameters][19]
    -   [OlStyler][20]
        -   [Parameters][21]
        -   [Examples][22]
-   [Types][23]
    -   [StyledLayerDescriptor][24]
        -   [Properties][25]
    -   [Layer][26]
        -   [Properties][27]
    -   [FeatureTypeStyle][28]
        -   [Properties][29]
    -   [Rule][30]
        -   [Properties][31]
    -   [Filter][32]
        -   [Properties][33]
    -   [LineSymbolizer][34]
        -   [Properties][35]
    -   [PolygonSymbolizer][36]
        -   [Properties][37]
    -   [PointSymbolizer][38]
        -   [Properties][39]
    -   [GeometryStyles][40]
        -   [Properties][41]
-   [appendStyle][42]
    -   [Parameters][43]
    -   [Examples][44]
-   [updateExternalGraphicRule][45]
    -   [Parameters][46]
-   [updateExternalGraphicRules][47]
    -   [Parameters][48]
-   [loadExternalGraphic][49]
    -   [Parameters][50]
-   [processExternalGraphicSymbolizers][51]
    -   [Parameters][52]
-   [createCachedImageStyle][53]
    -   [Parameters][54]
-   [getMarkFill][55]
    -   [Parameters][56]
-   [getMarkStroke][57]
    -   [Parameters][58]
-   [getWellKnownSymbol][59]
    -   [Parameters][60]
-   [evaluateChildExpression][61]
    -   [Parameters][62]
-   [evaluate][63]
    -   [Parameters][64]
-   [hexToRGB][65]
    -   [Parameters][66]

## Methods

All methods of this package. If you include the build directly they are props
of the global var SLDReader.


### createOlStyleFunction

Create an OpenLayers style function from a FeatureTypeStyle object extracted from an SLD document.

**Important!** When using externalGraphics for point styling, make sure to call .changed() on the layer
inside options.imageLoadedCallback to immediately see the loaded image. If you do not do this, the
image icon will only become visible the next time OpenLayers draws the layer (after pan or zoom).

#### Parameters

-   `featureTypeStyle` **[FeatureTypeStyle][67]** Feature Type Style object.
-   `options` **[object][68]** Options (optional, default `{}`)
    -   `options.convertResolution` **[function][69]** An optional function to convert the resolution in map units/pixel to resolution in meters/pixel.
        When not given, the map resolution is used as-is.
    -   `options.imageLoadedCallback` **[function][69]** Optional callback that will be called with the url of an externalGraphic when
        an image has been loaded (successfully or not). Call .changed() inside the callback on the layer to see the loaded image.

#### Examples

```javascript
myOlVectorLayer.setStyle(SLDReader.createOlStyleFunction(featureTypeStyle, {
  imageLoadedCallback: () => { myOlVectorLayer.changed(); }
}));
```

Returns **[Function][69]** A function that can be set as style function on an OpenLayers vector style layer.

### Reader

Creates a object from an sld xml string,

#### Parameters

-   `sld` **[string][70]** xml string

Returns **[StyledLayerDescriptor][71]** object representing sld style

### getLayerNames

get all layer names in sld

#### Parameters

-   `sld` **[StyledLayerDescriptor][71]** 

Returns **[Array][72]&lt;[string][70]>** registered layernames

### getLayer

Get layer definition from sld

#### Parameters

-   `sld` **[StyledLayerDescriptor][71]** [description]
-   `layername` **[string][70]?** optional layername

Returns **[Layer][73]** [description]

### getStyleNames

getStyleNames, notice name is not required for userstyle, you might get undefined

#### Parameters

-   `layer` **[Layer][73]** [description]

Returns **[Array][72]&lt;[string][70]>** [description]

### getStyle

get style from array layer.styles, if name is undefined it returns default style.
null is no style found

#### Parameters

-   `layer` **[Layer][73]** [description]
-   `name` **[string][70]?** of style

Returns **[object][68]** the style from layer.styles matching the name

### getRules

get rules for specific feature after applying filters

#### Parameters

-   `featureTypeStyle` **[FeatureTypeStyle][67]** 
-   `feature` **[object][68]** geojson
-   `resolution` **[number][74]** m/px
-   `options`   (optional, default `{}`)

#### Examples

```javascript
const style = getStyle(sldLayer, stylename);
getRules(style.featuretypestyles['0'], geojson, resolution);
```

Returns **[Array][72]&lt;[Rule][75]>** 

### getGeometryStyles

Get styling from rules per geometry type

#### Parameters

-   `rules` **[Array][72]&lt;[Rule][75]>** [description]

Returns **[GeometryStyles][76]** 

### OlStyler

Create openlayers style

#### Parameters

-   `GeometryStyles` **[GeometryStyles][76]** rulesconverter
-   `feature` **([object][68] | Feature)** [geojson][77]
     or [ol/Feature][78] Changed in 0.0.04 & 0.0.5!

#### Examples

```javascript
OlStyler(getGeometryStyles(rules), geojson.geometry.type);
```

Returns **any** ol.style.Style or array of it

## Types

Types are the javascript representation of the ogc sld structure


### StyledLayerDescriptor

a typedef for StyledLayerDescriptor [xsd][79]

#### Properties

-   `version` **[string][70]** sld version
-   `layers` **[Array][72]&lt;[Layer][73]>** info extracted from NamedLayer element

### Layer

a typedef for Layer, the actual style object for a single layer

#### Properties

-   `name` **[string][70]** layer name
-   `styles` **[Array][72]&lt;[Object][68]>** See explanation at [Geoserver docs][80]
    -   `styles[].default` **[Boolean][81]** 
    -   `styles[].name` **[String][70]?** 
    -   `styles[].featuretypestyles` **[Array][72]&lt;[FeatureTypeStyle][67]>** Geoserver will draw multiple,
        libraries as openlayers can only use one definition!

### FeatureTypeStyle

a typedef for FeatureTypeStyle: [xsd][82]

#### Properties

-   `rules` **[Array][72]&lt;[Rule][75]>** 

### Rule

a typedef for Rule to match a feature: [xsd][82]

#### Properties

-   `name` **[string][70]** rule name
-   `filter` **[Array][72]&lt;[Filter][83]>?** 
-   `elsefilter` **[boolean][81]?** 
-   `minscaledenominator` **integer?** 
-   `maxscaledenominator` **integer?** 
-   `polygonsymbolizer` **[PolygonSymbolizer][84]?** 
-   `linesymbolizer` **[LineSymbolizer][85]?** 
-   `pointsymbolizer` **[PointSymbolizer][86]?** 

### Filter

[filter operators][87], see also
[geoserver][88]

#### Properties

-   `type` **[string][70]** Can be 'comparison', 'and', 'or', 'not', or 'featureid'.
-   `fids` **[Array][72]&lt;[string][70]>?** An array of feature id's. Required for type='featureid'.
-   `operator` **[string][70]?** Required for type='comparison'. Can be one of
    'propertyisequalto',
    'propertyisnotequalto',
    'propertyislessthan',
    'propertyislessthanorequalto',
    'propertyisgreaterthan',
    'propertyisgreaterthanorequalto',
    'propertyislike',
    'propertyisbetween'
-   `predicates` **[Array][72]&lt;[Filter][83]>?** Required for type='and' or type='or'.
    An array of filter predicates that must all evaluate to true for 'and', or
    for which at least one must evaluate to true for 'or'.
-   `predicate` **[Filter][83]?** Required for type='not'. A single predicate to negate.
-   `propertyname` **[string][70]?** Required for type='comparison'.
-   `literal` **[string][70]?** A literal value to use in a comparison,
    required for type='comparison'.
-   `lowerboundary` **[string][70]?** Lower boundary, required for operator='propertyisbetween'.
-   `upperboundary` **[string][70]?** Upper boundary, required for operator='propertyisbetween'.
-   `wildcard` **[string][70]?** Required wildcard character for operator='propertyislike'.
-   `singlechar` **[string][70]?** Required single char match character,
    required for operator='propertyislike'.
-   `escapechar` **[string][70]?** Required escape character for operator='propertyislike'.

### LineSymbolizer

a typedef for [LineSymbolizer][89], see also
[geoserver docs][90]

#### Properties

-   `stroke` **[Object][68]** 
    -   `stroke.css` **[Array][72]&lt;[Object][68]>** one object per CssParameter with props name (camelcased) & value

### PolygonSymbolizer

a typedef for [PolygonSymbolizer][89], see also
[geoserver docs][91]

#### Properties

-   `fill` **[Object][68]** 
    -   `fill.css` **[array][72]** one object per CssParameter with props name (camelcased) & value
-   `stroke` **[Object][68]** 
    -   `stroke.css` **[Array][72]&lt;[Object][68]>** with camelcased name & value

### PointSymbolizer

a typedef for PointSymbolizer [xsd][89]
& [geoserver docs][92]

#### Properties

-   `graphic` **[Object][68]** 
    -   `graphic.externalgraphic` **[Object][68]** 
        -   `graphic.externalgraphic.onlineresource` **[string][70]** 
    -   `graphic.mark` **[Object][68]** 
        -   `graphic.mark.wellknownname` **[string][70]** 
        -   `graphic.mark.fill` **[Object][68]** 
        -   `graphic.mark.stroke` **[Object][68]** 
    -   `graphic.opacity` **[Number][74]** 
    -   `graphic.size` **[Number][74]** 
    -   `graphic.rotation` **[Number][74]** 

### GeometryStyles

contains for each geometry type the symbolizer from an array of rules

#### Properties

-   `polygon` **[Array][72]&lt;[PolygonSymbolizer][84]>** polygonsymbolizers
-   `line` **[Array][72]&lt;[LineSymbolizer][85]>** linesymbolizers
-   `point` **[Array][72]&lt;[PointSymbolizer][86]>** pointsymbolizers, same as graphic prop from PointSymbolizer

## appendStyle

Convert symbolizers together with the feature to OL style objects and append them to the styles array.

### Parameters

-   `styles` **[Array][72]&lt;ol/style>** Array of OL styles.
-   `symbolizers` **([object][68] \| [Array][72]&lt;[object][68]>)** Feature symbolizer object, or array of feature symbolizers.
-   `feature` **ol/feature** OpenLayers feature.
-   `styleFunction` **[Function][69]** Function for getting the OL style object. Signature (symbolizer, feature) => OL style.

### Examples

```javascript
appendStyle(styles, point[j], feature, getPointStyle);
```

## updateExternalGraphicRule

Updates the **loadingState metadata for the symbolizers with the new imageLoadState, if
the external graphic is matching the image url.
This action replaces symbolizers with new symbolizers if they get a new **loadingState.

### Parameters

-   `rule`  
-   `imageUrl` **[string][70]** The image url.
-   `imageLoadState` **[string][70]** One of 'IMAGE_LOADING', 'IMAGE_LOADED', 'IMAGE_ERROR'.
-   `featureTypeStyle` **[object][68]** A feature type style object.

## updateExternalGraphicRules

Go through all rules with an external graphic matching the image url
and update the **loadingState metadata for the symbolizers with the new imageLoadState.
This action replaces symbolizers with new symbolizers if they get a new **loadingState.

### Parameters

-   `featureTypeStyle` **[object][68]** A feature type style object.
-   `imageUrl` **[string][70]** The image url.
-   `imageLoadState` **[string][70]** One of 'IMAGE_LOADING', 'IMAGE_LOADED', 'IMAGE_ERROR'.

## loadExternalGraphic

Load and cache an image that's used as externalGraphic inside one or more symbolizers inside a feature type style object.
When the image is loaded, it's put into the cache, the \_\_loadingStaet inside the featureTypeStyle symbolizers are updated,
and the imageLoadedCallback is called with the loaded image url.

### Parameters

-   `imageUrl` **[url][93]** Image url.
-   `imageLoadState` **[string][70]** One of IMAGE_LOADING, IMAGE_LOADED or IMAGE_ERROR.
-   `featureTypeStyle` **[object][68]** Feature type style object.
-   `imageLoadedCallback` **[Function][69]** Will be called with the image url when image
    has loaded. Will be called with undefined if the loading the image resulted in an error.

## processExternalGraphicSymbolizers

Start loading images used in rules that have a pointsymbolizer with an externalgraphic.
On image load start or load end, update \_\_loadingState metadata of the symbolizers for that image url.

### Parameters

-   `rules` **[Array][72]&lt;[object][68]>** Array of SLD rule objects that pass the filter for a single feature.
-   `featureTypeStyle` **[FeatureTypeStyle][67]** The feature type style object for a layer.
-   `imageLoadState` **[object][68]** Cache of image load state: imageUrl -> IMAGE_LOADING | IMAGE_LOADED | IMAGE_ERROR.
-   `imageLoadedCallback` **[Function][69]** Function to call when an image has loaded.

## createCachedImageStyle

Create an OL Icon style for an external graphic.
The Graphic must be already loaded and present in the global imageCache.

### Parameters

-   `imageUrl` **[string][70]** Url of the external graphic.
-   `size` **[number][74]** Requested size in pixels.
-   `rotationDegrees` **[number][74]?** Image rotation in degrees (clockwise). Default 0. (optional, default `0.0`)

## getMarkFill

Get OL Fill instance for SLD mark object.

### Parameters

-   `mark` **[object][68]** SLD mark object.

## getMarkStroke

Get OL Stroke instance for SLD mark object.

### Parameters

-   `mark` **[object][68]** SLD mark object.

## getWellKnownSymbol

Create an OL point style corresponding to a well known symbol identifier.

### Parameters

-   `wellKnownName` **[string][70]** SLD Well Known Name for symbolizer.
    Can be 'circle', 'square', 'triangle', 'star', 'cross', 'x', 'hexagon', 'octagon'.
-   `size` **[number][74]** Symbol size in pixels.
-   `stroke` **ol/style/stroke** OpenLayers Stroke instance.
-   `fill` **ol/style/fill** OpenLayers Fill instance.
-   `rotationDegrees` **[number][74]** Symbol rotation in degrees (clockwise). Default 0. (optional, default `0.0`)

## evaluateChildExpression

Evaluate the value of a sub-expression.

### Parameters

-   `childExpression` **[object][68]** SLD object expression child.
-   `feature` **ol/feature** OpenLayers feature instance.feature.

## evaluate

This function takes an SLD expression and an OL feature and outputs the expression value for that feature.
Constant expressions are returned as-is.

### Parameters

-   `expression` **([object][68] \| [string][70])** SLD object expression.
-   `feature` **ol/feature** OpenLayers feature instance.

## hexToRGB

### Parameters

-   `hex` **[string][70]** eg #AA00FF
-   `alpha` **[Number][74]** eg 0.5

Returns **[string][70]** rgba(0,0,0,0)

[1]: #methods

[2]: #createolstylefunction

[3]: #parameters

[4]: #examples

[5]: #reader

[6]: #parameters-1

[7]: #getlayernames

[8]: #parameters-2

[9]: #getlayer

[10]: #parameters-3

[11]: #getstylenames

[12]: #parameters-4

[13]: #getstyle

[14]: #parameters-5

[15]: #getrules

[16]: #parameters-6

[17]: #examples-1

[18]: #getgeometrystyles

[19]: #parameters-7

[20]: #olstyler

[21]: #parameters-8

[22]: #examples-2

[23]: #types

[24]: #styledlayerdescriptor

[25]: #properties

[26]: #layer

[27]: #properties-1

[28]: #featuretypestyle

[29]: #properties-2

[30]: #rule

[31]: #properties-3

[32]: #filter

[33]: #properties-4

[34]: #linesymbolizer

[35]: #properties-5

[36]: #polygonsymbolizer

[37]: #properties-6

[38]: #pointsymbolizer

[39]: #properties-7

[40]: #geometrystyles

[41]: #properties-8

[42]: #appendstyle

[43]: #parameters-9

[44]: #examples-3

[45]: #updateexternalgraphicrule

[46]: #parameters-10

[47]: #updateexternalgraphicrules

[48]: #parameters-11

[49]: #loadexternalgraphic

[50]: #parameters-12

[51]: #processexternalgraphicsymbolizers

[52]: #parameters-13

[53]: #createcachedimagestyle

[54]: #parameters-14

[55]: #getmarkfill

[56]: #parameters-15

[57]: #getmarkstroke

[58]: #parameters-16

[59]: #getwellknownsymbol

[60]: #parameters-17

[61]: #evaluatechildexpression

[62]: #parameters-18

[63]: #evaluate

[64]: #parameters-19

[65]: #hextorgb

[66]: #parameters-20

[67]: #featuretypestyle

[68]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object

[69]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function

[70]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String

[71]: #styledlayerdescriptor

[72]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array

[73]: #layer

[74]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number

[75]: #rule

[76]: #geometrystyles

[77]: http://geojson.org

[78]: https://openlayers.org/en/latest/apidoc/module-ol_Feature-Feature.html

[79]: http://schemas.opengis.net/sld/1.1/StyledLayerDescriptor.xsd

[80]: http://docs.geoserver.org/stable/en/user/styling/sld/reference/styles.html

[81]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean

[82]: http://schemas.opengis.net/se/1.1.0/FeatureStyle.xsd

[83]: #filter

[84]: #polygonsymbolizer

[85]: #linesymbolizer

[86]: #pointsymbolizer

[87]: http://schemas.opengis.net/filter/1.1.0/filter.xsd

[88]: http://docs.geoserver.org/stable/en/user/styling/sld/reference/filters.html

[89]: http://schemas.opengis.net/se/1.1.0/Symbolizer.xsd

[90]: http://docs.geoserver.org/stable/en/user/styling/sld/reference/linesymbolizer.html#sld-reference-linesymbolizer

[91]: http://docs.geoserver.org/stable/en/user/styling/sld/reference/polygonsymbolizer.html

[92]: http://docs.geoserver.org/latest/en/user/styling/sld/reference/pointsymbolizer.html

[93]: https://developer.mozilla.org/docs/Web/API/URL/URL
